; 18649 Fall 2013
; Group 17 
; Shen Yu (sheny)
; carpositioncontrol_test1.mf

;include CAN id and period definitions
#INCLUDE carposition_defines.mf

;initialize
0s I MESSAGE_PERIOD N AT_FLOOR_1F_CAN_ID AtFloor 1 FRONT = true
0s I MESSAGE_PERIOD N AT_FLOOR_1B_CAN_ID AtFloor 1 BACK = false
0s I MESSAGE_PERIOD N AT_FLOOR_2B_CAN_ID AtFloor 2 BACK = false
0s I MESSAGE_PERIOD N AT_FLOOR_3F_CAN_ID AtFloor 3 FRONT = false
0s I MESSAGE_PERIOD N AT_FLOOR_4F_CAN_ID AtFloor 4 FRONT = false
0s I MESSAGE_PERIOD N AT_FLOOR_5F_CAN_ID AtFloor 5 FRONT = false
0s I MESSAGE_PERIOD N AT_FLOOR_6F_CAN_ID AtFloor 6 FRONT = false
0s I MESSAGE_PERIOD N AT_FLOOR_7F_CAN_ID AtFloor 7 FRONT = false
0s I MESSAGE_PERIOD N AT_FLOOR_7B_CAN_ID AtFloor 7 BACK = false
0s I MESSAGE_PERIOD N AT_FLOOR_8F_CAN_ID AtFloor 8 FRONT = false

;#state 'State 10.1: First'
0.21s A F CarPositionIndicator : floor == 1
0.21s A S CarPositionControl : STATE == STATE_FIRST

;#transition 'T10.1'
0.5s I MESSAGE_PERIOD N AT_FLOOR_1F_CAN_ID AtFloor 1 FRONT = false
0.5s I MESSAGE_PERIOD N AT_FLOOR_2B_CAN_ID AtFloor 2 BACK = true

;#state 'State 10.2: Second'
0.8s A F CarPositionIndicator : floor == 2
0.8s A S CarPositionControl : STATE == STATE_SECOND

;#transition 'T10.2'
1.1s I MESSAGE_PERIOD N AT_FLOOR_2B_CAN_ID AtFloor 2 BACK = false
1.1s I MESSAGE_PERIOD N AT_FLOOR_3F_CAN_ID AtFloor 3 FRONT = true

;#state 'State 10.3: Third'
1.4s A F CarPositionIndicator : floor == 3
1.4s A S CarPositionControl : STATE == STATE_THIRD

;#transition 'T10.4'
1.7s I MESSAGE_PERIOD N AT_FLOOR_3F_CAN_ID AtFloor 3 FRONT = false
1.7s I MESSAGE_PERIOD N AT_FLOOR_4F_CAN_ID AtFloor 4 FRONT = true

;#state 'State 10.4: Fourth'
2s A F CarPositionIndicator : floor == 4
2s A S CarPositionControl : STATE == STATE_FOURTH

;#transition 'T10.6'
2.3s I MESSAGE_PERIOD N AT_FLOOR_5F_CAN_ID AtFloor 5 FRONT = true
2.3s I MESSAGE_PERIOD N AT_FLOOR_4F_CAN_ID AtFloor 4 FRONT = false

;#state 'State 10.5: Fifth'
2.6s A F CarPositionIndicator : floor == 5
2.6s A S CarPositionControl : STATE == STATE_FIFTH

;#transition 'T10.8'
2.9s I MESSAGE_PERIOD N AT_FLOOR_5F_CAN_ID AtFloor 5 FRONT = false
2.9s I MESSAGE_PERIOD N AT_FLOOR_6F_CAN_ID AtFloor 6 FRONT = true

;#state 'State 10.6: Sixth'
3.2s A F CarPositionIndicator : floor == 6
3.2s A S CarPositionControl : STATE == STATE_SIXTH

;#transition 'T10.10'
3.5s I MESSAGE_PERIOD N AT_FLOOR_6F_CAN_ID AtFloor 6 FRONT = false
3.5s I MESSAGE_PERIOD N AT_FLOOR_7F_CAN_ID AtFloor 7 FRONT = true

;#state 'State 10.7: Seventh'
3.8s A F CarPositionIndicator : floor == 7
3.8s A S CarPositionControl : STATE == STATE_SEVENTH

;#transition 'T10.12'
4.1s I MESSAGE_PERIOD N AT_FLOOR_7F_CAN_ID AtFloor 7 FRONT = false
4.1s I MESSAGE_PERIOD N AT_FLOOR_8F_CAN_ID AtFloor 8 FRONT = true

;#state 'State 10.8: Eighth'
4.4s A F CarPositionIndicator : floor == 8
4.4s A S CarPositionControl : STATE == STATE_EIGHTH

;#transition 'T10.14'
4.7s I MESSAGE_PERIOD N AT_FLOOR_7B_CAN_ID AtFloor 7 BACK = true
4.7s I MESSAGE_PERIOD N AT_FLOOR_8F_CAN_ID AtFloor 8 FRONT = false

;#state 'State 10.7: Seventh'
5.1s A F CarPositionIndicator : floor == 7
5.1s A S CarPositionControl : STATE == STATE_SEVENTH

;#transition 'T10.13'
5.4s I MESSAGE_PERIOD N AT_FLOOR_7B_CAN_ID AtFloor 7 BACK = false
5.4s I MESSAGE_PERIOD N AT_FLOOR_6F_CAN_ID AtFloor 6 FRONT = true

;#state 'State 10.6: Sixth'
5.7s A F CarPositionIndicator : floor == 6
5.7s A S CarPositionControl : STATE == STATE_SIXTH

;#transition 'T10.11'
6s I MESSAGE_PERIOD N AT_FLOOR_5F_CAN_ID AtFloor 5 FRONT = true
6s I MESSAGE_PERIOD N AT_FLOOR_6F_CAN_ID AtFloor 6 FRONT = false

;#state 'State 10.5: Fifth'
6.3s A F CarPositionIndicator : floor == 5
6.3s A S CarPositionControl : STATE == STATE_FIFTH

;#transition 'T10.9'
6.6s I MESSAGE_PERIOD N AT_FLOOR_5F_CAN_ID AtFloor 5 FRONT = false
6.6s I MESSAGE_PERIOD N AT_FLOOR_4F_CAN_ID AtFloor 4 FRONT = true

;#state 'State 10.4: Fourth'
6.9s A F CarPositionIndicator : floor == 4
6.9s A S CarPositionControl : STATE == STATE_FOURTH

;#transition 'T10.7'
7.2s I MESSAGE_PERIOD N AT_FLOOR_3F_CAN_ID AtFloor 3 FRONT = true
7.2s I MESSAGE_PERIOD N AT_FLOOR_4F_CAN_ID AtFloor 4 FRONT = false

;#state 'State 10.3: Third'
7.5s A F CarPositionIndicator : floor == 3
7.5s A S CarPositionControl : STATE == STATE_THIRD

;#transition 'T10.5'
7.8s I MESSAGE_PERIOD N AT_FLOOR_3F_CAN_ID AtFloor 3 FRONT = false
7.8s I MESSAGE_PERIOD N AT_FLOOR_2B_CAN_ID AtFloor 2 BACK = true

;#state 'State 10.2: Second'
8.1s A F CarPositionIndicator : floor == 2
8.1s A S CarPositionControl : STATE == STATE_SECOND

;#transition 'T10.3'
8.4s I MESSAGE_PERIOD N AT_FLOOR_1B_CAN_ID AtFloor 1 BACK = true
8.4s I MESSAGE_PERIOD N AT_FLOOR_2B_CAN_ID AtFloor 2 BACK = false

;#state 'State 10.1: First'
8.7s A F CarPositionIndicator : floor == 1
8.7s A S CarPositionControl : STATE == STATE_FIRST
